# 🤖 AutoBiz Agent - AI Business Manager

**AutoBiz Agent** is an intelligent business automation platform that revolutionizes how small businesses manage leads, schedule meetings, and maintain customer relationships. By leveraging AI-powered email parsing and seamless integrations with popular business tools, AutoBiz Agent eliminates hours of manual work and ensures no lead falls through the cracks.

![AutoBiz Agent](https://img.shields.io/badge/Next.js-15-black?style=for-the-badge&logo=next.js)
![TypeScript](https://img.shields.io/badge/TypeScript-5.0-blue?style=for-the-badge&logo=typescript)
![Supabase](https://img.shields.io/badge/Supabase-Database-green?style=for-the-badge&logo=supabase)
![AI Powered](https://img.shields.io/badge/AI-Powered-purple?style=for-the-badge&logo=openai)

---

## 🌟 Features

### Core Capabilities

- **🧠 AI Email Parser**: Automatically reads and extracts lead data from emails using GPT-4
- **📊 CRM Integration**: Instantly updates HubSpot or Salesforce with new lead information
- **📅 Smart Scheduling**: Books meetings in Google Calendar based on lead priority
- **📝 Notion Notes**: Creates detailed meeting notes and lead profiles automatically
- **💬 Slack Notifications**: Keeps your team updated with real-time lead alerts
- **⚡ Workflow Automation**: Orchestrates all tools in one seamless, intelligent workflow

### Platform Features

- **Real-time Dashboard**: Monitor leads, workflows, and activities in real-time
- **Autonomous AI Agent**: Background agent that monitors emails and triggers workflows automatically
- **Lead Management**: Track lead status, priority, and engagement history
- **Workflow Orchestration**: Visual workflow execution with step-by-step progress tracking
- **Integration Management**: Connect and configure multiple business tools from one interface
- **Authentication**: Secure user authentication with Supabase Auth

---

## 🛠️ Tech Stack

### Frontend
- **Next.js 15** - React framework with App Router
- **TypeScript** - Type-safe development
- **Tailwind CSS v4** - Utility-first styling
- **shadcn/ui** - Beautiful, accessible component library
- **SWR** - Real-time data fetching and caching
- **Lucide React** - Modern icon library

### Backend
- **Next.js API Routes** - Serverless API endpoints
- **Supabase** - PostgreSQL database and authentication
- **Vercel AI SDK** - AI-powered email parsing with GPT-4

### Integrations
- **Gmail API** - Email monitoring and reading
- **HubSpot API** - CRM contact management
- **Google Calendar API** - Meeting scheduling
- **Notion API** - Note creation and organization
- **Slack API** - Team notifications

---

## 📋 Prerequisites

Before you begin, ensure you have the following installed:

- **Node.js** 18.x or higher
- **npm** or **yarn** package manager
- **Git** for version control
- **Supabase Account** (free tier available)
- **Vercel Account** (optional, for deployment)

---

## 🚀 Installation

### 1. Clone the Repository

\`\`\`bash
git clone https://github.com/yourusername/autobiz-agent.git
cd autobiz-agent
\`\`\`

### 2. Install Dependencies

\`\`\`bash
npm install
# or
yarn install
\`\`\`

### 3. Environment Variables

Create a `.env.local` file in the root directory:

\`\`\`env
# Supabase Configuration
NEXT_PUBLIC_SUPABASE_URL=your_supabase_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_anon_key
SUPABASE_SERVICE_ROLE_KEY=your_supabase_service_role_key

# Database Configuration (Auto-generated by Supabase)
POSTGRES_URL=your_postgres_connection_string
POSTGRES_PRISMA_URL=your_postgres_prisma_url
POSTGRES_URL_NON_POOLING=your_postgres_non_pooling_url

# Development Redirect URL (for Supabase Auth)
NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL=http://localhost:3000

# Optional: Integration API Keys (for production use)
GMAIL_API_KEY=your_gmail_api_key
HUBSPOT_API_KEY=your_hubspot_api_key
GOOGLE_CALENDAR_API_KEY=your_calendar_api_key
NOTION_API_KEY=your_notion_api_key
SLACK_WEBHOOK_URL=your_slack_webhook_url
\`\`\`

### 4. Database Setup

The application includes SQL scripts to set up your database schema:

\`\`\`bash
# Option 1: Run scripts through the application
# Navigate to http://localhost:3000 and click "Initialize Database"

# Option 2: Run scripts manually in Supabase SQL Editor
# Copy contents of scripts/001_create_tables.sql
# Copy contents of scripts/002_seed_data.sql
\`\`\`

### 5. Run Development Server

\`\`\`bash
npm run dev
# or
yarn dev
\`\`\`

Open [http://localhost:3000](http://localhost:3000) in your browser.

---

## 📁 Project Structure

\`\`\`
autobiz-agent/
├── app/                          # Next.js App Router
│   ├── (auth)/                   # Authentication routes
│   │   ├── login/               # Login page
│   │   └── signup/              # Signup page
│   ├── dashboard/               # Main dashboard
│   ├── leads/                   # Lead management
│   ├── workflows/               # Workflow monitoring
│   ├── agent/                   # AI agent control panel
│   ├── integrations/            # Integration management
│   ├── settings/                # User settings
│   ├── api/                     # API routes
│   │   ├── leads/              # Lead CRUD operations
│   │   ├── workflows/          # Workflow management
│   │   ├── activities/         # Activity logging
│   │   ├── agent/              # Agent control endpoints
│   │   ├── parse-email/        # AI email parsing
│   │   └── setup/              # Database initialization
│   ├── layout.tsx              # Root layout
│   ├── page.tsx                # Landing page
│   └── globals.css             # Global styles
├── components/                  # React components
│   ├── dashboard/              # Dashboard components
│   ├── leads/                  # Lead components
│   ├── workflows/              # Workflow components
│   ├── agent/                  # Agent components
│   ├── integrations/           # Integration components
│   ├── layout/                 # Layout components
│   ├── providers/              # Context providers
│   └── ui/                     # shadcn/ui components
├── lib/                        # Utility libraries
│   ├── supabase/              # Supabase clients
│   │   ├── client.ts          # Browser client
│   │   ├── server.ts          # Server client
│   │   └── middleware.ts      # Auth middleware
│   ├── db/                    # Database utilities
│   │   ├── schema.ts          # Type definitions
│   │   ├── types.ts           # Database types
│   │   └── setup.ts           # Setup utilities
│   ├── ai/                    # AI utilities
│   │   └── email-parser.ts    # Email parsing logic
│   ├── agent/                 # Agent logic
│   │   ├── autonomous-agent.ts    # Main agent
│   │   ├── email-monitor.ts       # Email monitoring
│   │   └── workflow-templates.ts  # Workflow templates
│   ├── integrations/          # Integration connectors
│   │   ├── base.ts           # Base integration class
│   │   ├── gmail.ts          # Gmail connector
│   │   ├── hubspot.ts        # HubSpot connector
│   │   ├── calendar.ts       # Calendar connector
│   │   ├── notion.ts         # Notion connector
│   │   ├── slack.ts          # Slack connector
│   │   └── factory.ts        # Integration factory
│   ├── workflow/              # Workflow orchestration
│   │   └── orchestrator.ts   # Workflow engine
│   ├── hooks/                 # Custom React hooks
│   │   ├── use-leads.ts      # Lead data hook
│   │   ├── use-workflows.ts  # Workflow data hook
│   │   └── use-activities.ts # Activity data hook
│   └── constants.ts           # App constants
├── scripts/                    # Database scripts
│   ├── 001_create_tables.sql  # Schema creation
│   └── 002_seed_data.sql      # Sample data
├── middleware.ts              # Next.js middleware
├── package.json               # Dependencies
├── tsconfig.json              # TypeScript config
├── tailwind.config.ts         # Tailwind config
└── README.md                  # This file
\`\`\`

---

## 🔐 Authentication Flow

### User Registration
1. User visits `/auth/signup`
2. Enters email and password
3. Supabase creates user account
4. Confirmation email sent (if enabled)
5. User redirected to dashboard

### User Login
1. User visits `/auth/login`
2. Enters credentials
3. Supabase validates and creates session
4. User redirected to dashboard

### Protected Routes
- Middleware checks authentication on all `/dashboard/*`, `/leads/*`, `/workflows/*`, `/agent/*` routes
- Unauthenticated users redirected to `/auth/login`
- Session automatically refreshed via middleware

---

## 🤖 AI Agent System

### How It Works

1. **Email Monitoring**: Agent polls Gmail API for new emails matching criteria
2. **AI Parsing**: GPT-4 extracts structured lead data (name, email, company, intent, urgency)
3. **Lead Creation**: Parsed data saved to database with unique ID
4. **Workflow Selection**: Agent selects appropriate workflow template based on lead urgency
5. **Workflow Execution**: Orchestrator executes steps sequentially:
   - Update CRM (HubSpot)
   - Schedule meeting (Google Calendar)
   - Create note (Notion)
   - Send notification (Slack)
6. **Activity Logging**: Each step logged with timestamp and status

### Agent Control

Access the agent control panel at `/agent`:
- **Start Agent**: Begin autonomous email monitoring
- **Stop Agent**: Pause monitoring
- **Manual Trigger**: Process emails on-demand
- **View Logs**: See agent activity history

---

## 📊 Database Schema

### Tables

#### `leads`
- `id` (UUID, Primary Key)
- `email` (Text, Unique)
- `name` (Text)
- `company` (Text, Nullable)
- `phone` (Text, Nullable)
- `status` (Enum: new, contacted, qualified, converted, lost)
- `source` (Text)
- `notes` (Text, Nullable)
- `created_at` (Timestamp)
- `updated_at` (Timestamp)

#### `workflows`
- `id` (UUID, Primary Key)
- `lead_id` (UUID, Foreign Key → leads)
- `status` (Enum: pending, in_progress, completed, failed)
- `steps` (JSONB)
- `current_step` (Integer)
- `error_message` (Text, Nullable)
- `started_at` (Timestamp)
- `completed_at` (Timestamp, Nullable)
- `created_at` (Timestamp)

#### `activities`
- `id` (UUID, Primary Key)
- `lead_id` (UUID, Foreign Key → leads, Nullable)
- `workflow_id` (UUID, Foreign Key → workflows, Nullable)
- `type` (Text)
- `description` (Text)
- `metadata` (JSONB, Nullable)
- `created_at` (Timestamp)

#### `integrations`
- `id` (UUID, Primary Key)
- `name` (Text, Unique)
- `type` (Text)
- `status` (Enum: connected, disconnected, error)
- `config` (JSONB)
- `last_sync` (Timestamp, Nullable)
- `created_at` (Timestamp)
- `updated_at` (Timestamp)

---

## 🔌 API Documentation

### Leads API

#### `GET /api/leads`
Fetch all leads with optional filtering.

**Query Parameters:**
- `status` (optional): Filter by lead status

**Response:**
\`\`\`json
[
  {
    "id": "uuid",
    "email": "john@example.com",
    "name": "John Doe",
    "company": "Acme Inc",
    "status": "new",
    "source": "email",
    "created_at": "2025-01-21T10:00:00Z"
  }
]
\`\`\`

#### `POST /api/leads`
Create a new lead.

**Request Body:**
\`\`\`json
{
  "email": "john@example.com",
  "name": "John Doe",
  "company": "Acme Inc",
  "source": "email"
}
\`\`\`

### Workflows API

#### `GET /api/workflows`
Fetch all workflows.

#### `POST /api/workflows/execute`
Execute a workflow for a lead.

**Request Body:**
\`\`\`json
{
  "leadId": "uuid"
}
\`\`\`

### Email Parser API

#### `POST /api/parse-email`
Parse email content and extract lead data.

**Request Body:**
\`\`\`json
{
  "emailContent": "Email text here..."
}
\`\`\`

**Response:**
\`\`\`json
{
  "email": "extracted@email.com",
  "name": "Extracted Name",
  "company": "Company Name",
  "intent": "Product inquiry",
  "urgency": "high"
}
\`\`\`

---

## 🚀 Deployment

### Deploy to Vercel

1. **Push to GitHub**
\`\`\`bash
git add .
git commit -m "Initial commit"
git push origin main
\`\`\`

2. **Connect to Vercel**
- Visit [vercel.com](https://vercel.com)
- Import your GitHub repository
- Vercel auto-detects Next.js configuration

3. **Configure Environment Variables**
- Add all environment variables from `.env.local`
- Vercel automatically provides Supabase integration

4. **Deploy**
- Click "Deploy"
- Your app will be live at `your-app.vercel.app`

### Post-Deployment

1. Update Supabase redirect URLs:
   - Add `https://your-app.vercel.app` to allowed URLs
   - Update `NEXT_PUBLIC_DEV_SUPABASE_REDIRECT_URL` for production

2. Configure integration API keys for production use

---

## 🧪 Testing

### Manual Testing Checklist

- [ ] User can sign up and log in
- [ ] Dashboard displays real-time data
- [ ] Email parser extracts lead data correctly
- [ ] Workflows execute all steps successfully
- [ ] Agent can be started/stopped
- [ ] Integrations can be configured
- [ ] Lead status updates persist
- [ ] Activity feed shows recent actions

---

## 🤝 Contributing

Contributions are welcome! Please follow these steps:

1. Fork the repository
2. Create a feature branch (`git checkout -b feature/amazing-feature`)
3. Commit your changes (`git commit -m 'Add amazing feature'`)
4. Push to the branch (`git push origin feature/amazing-feature`)
5. Open a Pull Request

### Code Style

- Use TypeScript for all new files
- Follow existing component patterns
- Use Tailwind CSS for styling
- Add comments for complex logic
- Write descriptive commit messages

---

## 📝 License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## 🙏 Acknowledgments

- **Vercel** - Hosting and AI SDK
- **Supabase** - Database and authentication
- **shadcn/ui** - Component library
- **OpenAI** - GPT-4 for email parsing
- **Lucide** - Icon library

---

## 📧 Support

For support, email support@autobiz-agent.com or open an issue on GitHub.

---

## 🗺️ Roadmap

- [ ] Multi-language support
- [ ] Advanced analytics dashboard
- [ ] Custom workflow builder (drag-and-drop)
- [ ] Mobile app (React Native)
- [ ] Zapier integration
- [ ] Email template customization
- [ ] Team collaboration features
- [ ] Advanced AI insights and recommendations

---

**Built with ❤️ by the AutoBiz Team**
